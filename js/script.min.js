const loginLink=document.querySelector(".contacts-link"),loginPopup=document.querySelector(".popup"),loginClose=document.querySelector(".button-close"),loginName=document.querySelector(".popup-form-name"),loginForm=document.querySelector(".popup-form"),loginEmail=document.querySelector(".popup-form-mail"),loginTextarea=document.querySelector(".popup-form-text-input");let isStorageSupport=!0,storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email");try{storage=localStorage.getItem("name"),storage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}loginLink.addEventListener("click",function(e){e.preventDefault(),loginPopup.classList.add("modal-show"),storage?(loginName.value=storageName,loginEmail.value=storageEmail,loginTextarea.focus()):loginName.focus()}),loginClose.addEventListener("click",function(e){e.preventDefault(),loginPopup.classList.remove("modal-show"),loginPopup.classList.remove("modal-error")}),loginForm.addEventListener("submit",function(e){loginName.value&&loginEmail.value&&loginTextarea.value?isStorageSupport&&(localStorage.setItem("name",loginName.value),localStorage.setItem("email",loginEmail.value)):(e.preventDefault(),loginPopup.classList.remove("modal-error"),loginPopup.offsetWidth=loginPopup.offsetWidth,loginPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&loginPopup.classList.contains("modal-show")&&(e.preventDefault(),loginPopup.classList.remove("modal-show"),loginPopup.classList.remove("modal-error"))});const imageSlide=document.querySelectorAll(".slider-item"),btnSlide=document.querySelectorAll(".slider-controls-item"),changeSlide=function(o,t,e){for(let e=0;e<o.length;e++)o[e].classList.contains("slide-current")&&o[e].classList.remove("slide-current");o[e].classList.add("slide-current");for(let e=0;e<t.length;e++)t[e].classList.contains("current")&&t[e].classList.remove("current");t[e].classList.add("current")};for(let e=0;e<btnSlide.length;e++)btnSlide[e].addEventListener("click",function(){changeSlide(imageSlide,btnSlide,e)});
