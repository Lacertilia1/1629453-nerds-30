const loginLink=document.querySelector(".contacts-link"),loginPopup=document.querySelector(".popup"),loginClose=document.querySelector(".button-close"),loginName=document.querySelector(".popup-form-name"),loginForm=document.querySelector(".popup-form"),loginEmail=document.querySelector(".popup-form-mail"),loginTextarea=document.querySelector(".popup-form-text-input");let isStorageSupport=!0,storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email");try{storage=localStorage.getItem("name"),storage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}loginLink.addEventListener("click",function(e){e.preventDefault(),loginPopup.classList.add("modal-show"),storage?(loginName.value=storageName,loginEmail.value=storageEmail,loginTextarea.focus()):loginName.focus()}),loginClose.addEventListener("click",function(e){e.preventDefault(),loginPopup.classList.remove("modal-show"),loginPopup.classList.remove("modal-error")}),loginForm.addEventListener("submit",function(e){loginName.value&&loginEmail.value&&loginTextarea.value?isStorageSupport&&(localStorage.setItem("name",loginName.value),localStorage.setItem("email",loginEmail.value)):(e.preventDefault(),loginPopup.classList.remove("modal-error"),loginPopup.offsetWidth=loginPopup.offsetWidth,loginPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&loginPopup.classList.contains("modal-show")&&(e.preventDefault(),loginPopup.classList.remove("modal-show"),loginPopup.classList.remove("modal-error"))});const imageSlide=document.querySelectorAll(".slider-item"),btnSlide=document.querySelectorAll(".slider-controls-item"),changeSlide=function(e,o,t){for(let o=0;o<e.length;o++)e[o].classList.contains("slide-current")&&e[o].classList.remove("slide-current");e[t].classList.add("slide-current");for(let e=0;e<o.length;e++)o[e].classList.contains("current")&&o[e].classList.remove("current");o[t].classList.add("current")};for(let e=0;e<btnSlide.length;e++)btnSlide[e].addEventListener("click",function(){changeSlide(imageSlide,btnSlide,e)});ymaps.ready(function(){let e=new ymaps.Map("map",{center:[59.939113,30.32142],zoom:17});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("rulerControl"),e.controls.remove("zoomControl"),e.behaviors.disable("scrollZoom"),MyIconContentLayout=ymaps.templateLayoutFactory.createClass('<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'),myPlacemark=new ymaps.Placemark(e.getCenter(),{hintContent:"NЁRDS DESIGN STUDIO, 191186, Санкт-Петербург, ул. Б. Конюшенная, д. 19/8"},{iconLayout:"default#image",iconImageHref:"img/img-for-index/map-marker.png",iconImageSize:[231,190],iconImageOffset:[110,-125]}),e.geoObjects.add(myPlacemark)});
